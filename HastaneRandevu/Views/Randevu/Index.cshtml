@model List<Randevu>
@using HastaneRandevu.Utility


@if (TempData["basarili"] != null){
    <div class="row pt-3 pb-2">
    <h2>@TempData["basarili"]</h2>
    </div>
}
else{
    <div class="row pt-3 pb-2">
    <h2>Randevular</h2>
    </div>
}


<div class="row pt-3 pb-2" style="margin-left: 2px;">
    <table class="table table-light">
    <thead>
    <tr class="table-light">
        
        <th scope="col">
            Hasta No
        </th>
        <th scope="col">
            Hasta Adi
        </th>
        <th scope="col">
            Hasta Soyadi
        </th>
        <th scope="col">
            Doktor
        </th>
        <th scope="col">
            
        
        <th scope="col">
            
        </th>  

            </tr>
    </thead>

    <tbody>
        @foreach(var randevu in Model)
        { 
        <tr>
            <td>@randevu.HastaId</td>
            <td>@randevu.HastaAdi</td>
            <td>@randevu.HastaSoyadi</td>
            <td>@randevu.Doktor.ad @randevu.Doktor.soyad</td>
            @if (User.IsInRole(UserRoles.Role_User))
                {
                <td>
                    <a asp-controller="Randevu" asp-action="EkleGuncelle" asp-route-id="@randevu.Id" type="button" class="btn btn-outline-success" style="width:125px">Guncelle</a>
                </td>
                <td>
                    <a asp-controller="Randevu" asp-action="Sil" asp-route-id="@randevu.Id" type="button" class="btn btn-outline-danger" style="width:125px">Sil</a>
                </td>
                }
        </tr>
        }
    </tbody>
        
</table>
</div>

<div class="row pt-3 pb-2">
    <div>
        <a asp-controller="Randevu" asp-action="EkleGuncelle" class="btn btn-lg btn-primary" type="button">
            Yeni Randevu Al
        </a>
    </div>
</div>